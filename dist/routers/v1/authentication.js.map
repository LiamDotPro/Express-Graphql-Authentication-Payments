{"version":3,"sources":["../../../routers/v1/authentication.js"],"names":["router","Router","passport","post","authenticate","req","res","send","msg","payload","status","session","logout","process","env","ENVIROMENT","json"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;AAEA,IAAIA,SAAS,kBAAQC,MAAR,EAAb;AACA,IAAMC,WAAW,yBAAyBA,QAA1C;;AAEA;;;AAGAF,OAAOG,IAAP,CAAY,QAAZ,EAAsBD,SAASE,YAAT,CAAsB,OAAtB,CAAtB;AAAA,uEAAsD,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAClD;AACAA,4BAAIC,IAAJ,CAAS,EAACC,KAAK,SAAN,EAAiBC,SAAS,CAA1B,EAA6BC,QAAQL,IAAIM,OAAzC,EAAT;;AAFkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAtD;;AAAA;AAAA;AAAA;AAAA;;AAKAX,OAAOG,IAAP,CAAY,SAAZ,EAAuB,UAACE,GAAD,EAAMC,GAAN,EAAc;AACjCD,QAAIO,MAAJ;AACAN,QAAIC,IAAJ,CAAS,EAACC,KAAK,uCAAN,EAA+CC,SAAS,CAAxD,EAAT;AACH,CAHD;;AAKA;;;AAGA,IAAII,QAAQC,GAAR,CAAYC,UAAZ,KAA2B,aAA/B,EAA8C;AAC1Cf,WAAOG,IAAP,CAAY,WAAZ,kCAA+C,UAACE,GAAD,EAAMC,GAAN,EAAc;AACzDA,YAAIU,IAAJ,CAAS,EAACR,KAAK,sCAAN,EAA8CC,SAAS,CAAvD,EAAT;AACH,KAFD;AAGH;;kBAEcT,M","file":"authentication.js","sourcesContent":["import express from 'express';\r\nimport configuredPassport, {requireAuthenticated} from '../../library/Passport/Passport';\r\n\r\nlet router = express.Router();\r\nconst passport = new configuredPassport().passport;\r\n\r\n/**\r\n * Routes\r\n */\r\nrouter.post('/login', passport.authenticate('local'), async (req, res) => {\r\n    //res.redirect('dashboard', next);\r\n    res.send({msg: 'Success', payload: 0, status: req.session});\r\n});\r\n\r\nrouter.post('/logout', (req, res) => {\r\n    req.logout();\r\n    res.send({msg: 'You have been successfully logged out', payload: 0});\r\n});\r\n\r\n/**\r\n * This route is only available during development.\r\n */\r\nif (process.env.ENVIROMENT === 'development') {\r\n    router.post('/validate', requireAuthenticated, (req, res) => {\r\n        res.json({msg: 'Successfully logged in against user.', payload: 0});\r\n    });\r\n}\r\n\r\nexport default router;"]}