{"version":3,"sources":["../../../routers/v1/authentication.js"],"names":["router","passport","post","authenticate","req","res","next","send","msg","payload","status","session","logout","process","env","ENVIROMENT","json"],"mappings":";;;;;;AAAA;;AAIA;;;;;;;AAHA;;;;;AAKA,IAAMA,SAAS,2BAAf;AACA,IAAMC,WAAW,yBAAyBA,QAA1C;;AAEA;;;AAGAD,OAAOE,IAAP,CAAY,QAAZ,EAAsBD,SAASE,YAAT,CAAsB,OAAtB,CAAtB;AAAA,uEAAsD,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAClD;AACAD,4BAAIE,IAAJ,CAAS,EAACC,KAAK,SAAN,EAAiBC,SAAS,CAA1B,EAA6BC,QAAQN,IAAIO,OAAzC,EAAT;AAFkD,yDAG3CL,MAH2C;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAtD;;AAAA;AAAA;AAAA;AAAA;;AAMAN,OAAOE,IAAP,CAAY,SAAZ,EAAuB,UAACE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACvCF,QAAIQ,MAAJ;AACAP,QAAIE,IAAJ,CAAS,EAACC,KAAK,uCAAN,EAA+CC,SAAS,CAAxD,EAAT;AACA,WAAOH,MAAP;AACH,CAJD;;AAMA;;;AAGA,IAAIO,QAAQC,GAAR,CAAYC,UAAZ,KAA2B,aAA/B,EAA8C;AAC1Cf,WAAOE,IAAP,CAAY,WAAZ,kCAA+C,UAACE,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC/DD,YAAIW,IAAJ,CAAS,EAACR,KAAK,sCAAN,EAA8CC,SAAS,CAAvD,EAAT;AACA,eAAOH,MAAP;AACH,KAHD;AAIH;;kBAEcN,M","file":"authentication.js","sourcesContent":["import {Router} from 'restify-router';\r\n/**\r\n * Path imports\r\n */\r\nimport configuredPassport, {requireAuthenticated} from '../../library/Passport/Passport';\r\n\r\nconst router = new Router();\r\nconst passport = new configuredPassport().passport;\r\n\r\n/**\r\n * Routes\r\n */\r\nrouter.post('/login', passport.authenticate('local'), async (req, res, next) => {\r\n    //res.redirect('dashboard', next);\r\n    res.send({msg: 'Success', payload: 0, status: req.session});\r\n    return next();\r\n});\r\n\r\nrouter.post('/logout', (req, res, next) => {\r\n    req.logout();\r\n    res.send({msg: 'You have been successfully logged out', payload: 0});\r\n    return next();\r\n});\r\n\r\n/**\r\n * This route is only available during development.\r\n */\r\nif (process.env.ENVIROMENT === 'development') {\r\n    router.post('/validate', requireAuthenticated, (req, res, next) => {\r\n        res.json({msg: 'Successfully logged in against user.', payload: 0});\r\n        return next();\r\n    });\r\n}\r\n\r\nexport default router;"]}